{% extends 'base.html.twig' %}

{% block title %}Confirmation RDV{% endblock %}

{% block body %}
<div class="container py-5">
    <div class="alert alert-success">
        ✓ Votre rendez-vous est confirmé !
    </div>

    <div class="card shadow">
        <div class="card-body">
            <div class="text-center mb-4 p-3" style="background-color: #f0f9ff; border-radius: 8px; border: 2px dashed #2563eb;">
                <p class="mb-1 text-muted small">Code de Confirmation</p>
                <h3 class="text-primary mb-0" style="letter-spacing: 2px; font-weight: bold;">{{ appointment.confirmationCode }}</h3>
            </div>

            <h5 class="border-bottom pb-2 mb-3">📋 Détails du Rendez-vous</h5>
            <p><strong>👨‍⚕️ Docteur :</strong> {{ appointment.doctor.user.fullName }} ({{ appointment.doctor.specialty }})</p>
            <p><strong>📅 Date :</strong> {{ appointment.startAt|date('d/m/Y') }}</p>
            <p><strong>🕐 Heure :</strong> {{ appointment.startAt|date('H:i') }} - {{ appointment.endAt|date('H:i') }}</p>
            <p><strong>👤 Patient :</strong> {{ appointment.patient.fullName }}</p>
            
            <div class="alert alert-info mt-4">
                <strong>ℹ️ Important :</strong> Notez votre code de confirmation <strong>{{ appointment.confirmationCode }}</strong> ou téléchargez le PDF avec le code QR.
            </div>

            <div class="text-center mt-4">
                <a href="{{ path('appointment_pdf', {'id': appointment.id}) }}" class="btn btn-primary btn-lg">
                    <i class="fa fa-file-pdf"></i> Télécharger PDF avec QR Code
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
